(self.webpackChunkappworks_fusion_design_lite=self.webpackChunkappworks_fusion_design_lite||[]).push([[871],{91966:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Oe}});var n=r(67294),i=r(76449),a=r(77431),o=r(65049),c=r(68621),l=r(61402),s=r.n(l),u=r(85893),p=["breadcrumbs","title","description"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r=y(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||(r[i]=e[i]);return r}var j,g=function e(t){var r=t.breadcrumbs,n=t.title,i=t.description,l=m(t,p);return(0,u.jsxs)(a.Z,d(d({spacing:8,className:s().pageHeader},l),{},{children:[r&&r.length>0?(0,u.jsx)(o.Z,{className:s().breadcrumbs,separator:" / ",children:r.map((function(e,t){return(0,u.jsx)(o.Z.Item,{link:e.path,children:e.name},t)}))}):null,n&&(0,u.jsx)(c.Z.Text,{className:s().title,children:n}),i&&(0,u.jsx)(c.Z.Text,{className:s().description,children:i})]}))},O=r(30299),h=r(31568),v=r(28544),x=r(4035),w=r(80655),P=r(30164),Z=r(53413),S=r(52971),k=r(56054),C=r(7770),T,D=function e(){return(0,u.jsxs)("div",{className:"table-empty-block",children:[(0,u.jsx)("div",{className:"result-image",children:(0,u.jsx)("img",{alt:"data empty",src:"//img.alicdn.com/tfs/TB1_yJXFkL0gK0jSZFAXXcA9pXa-1112-758.png"})}),(0,u.jsx)("div",{className:"result-title",children:"\u6570\u636e\u4e3a\u7a7a"})]})},E,I=function e(t){var r=t.onRefresh;return(0,u.jsxs)("div",{className:"table-empty-block",children:[(0,u.jsx)("div",{className:"result-image",children:(0,u.jsx)("img",{alt:"data empty",src:"//img.alicdn.com/tfs/TB1_yJXFkL0gK0jSZFAXXcA9pXa-1112-758.png"})}),(0,u.jsx)("div",{className:"result-title",children:(0,u.jsx)(x.Z,{type:"secondary",onClick:r,children:"\u91cd\u65b0\u52a0\u8f7d"})})]})},A=r(57631),N=r(30411),q=r(23153);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=A.Z.Item,X={labelCol:{span:4},wrapperCol:{span:20}},H=function e(t,r){var i=t.actionType,a=t.dataSource||{},o=O.Z.useField([]);(0,n.useEffect)((function(){if(o.reset(),a){var e={name:a.name.last,email:a.email,phone:a.phone,gender:a.gender};o.setValues(e)}}),[o,a]),(0,n.useImperativeHandle)(r,(function(){return{getValues:function e(t){o.validate((function(e,r){e||t(r)}))}}}));var c="preview"===i;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(A.Z,V(V({isPreview:c,fullWidth:!0,labelAlign:c?"left":"top",field:o},X),{},{children:[(0,u.jsx)(z,{label:"\u59d3\u540d:",required:!c,requiredMessage:"\u5fc5\u586b",children:(0,u.jsx)(N.Z,V({},o.init("name")))}),(0,u.jsx)(z,{label:"\u90ae\u7bb1:",format:"email",required:!c,requiredMessage:"\u5fc5\u586b",children:(0,u.jsx)(N.Z,{name:"email"})}),(0,u.jsx)(z,{label:"\u624b\u673a\u53f7:",format:"tel",required:!c,requiredMessage:"\u5fc5\u586b",children:(0,u.jsx)(N.Z,{name:"phone"})}),(0,u.jsx)(z,{label:"\u6027\u522b:",required:!c,requiredMessage:"\u5fc5\u586b",children:(0,u.jsx)(q.Z,{name:"gender",dataSource:[{value:"male",label:"\u7537"},{value:"female",label:"\u5973"}]})})]}))})},R=n.forwardRef(H),M=["actionType","dataSource","onOk"];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){if(null==e)return{};var r=L(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||(r[i]=e[i]);return r}var U=n.useRef,$=n.useCallback,G=function e(t){switch(t){default:return"\u6dfb\u52a0\u5458\u5de5";case"edit":return"\u7f16\u8f91\u5458\u5de5";case"preview":return"\u9884\u89c8\u5458\u5de5"}},Q,Y=function e(t){var r=t.actionType,n=t.dataSource,i=t.onOk,a=void 0===i?function(){}:i,o=K(t,M),c=U(null),l=$((function(){if("preview"===r)return a(null);c.current.getValues((function(e){a(e)}))}),[r,a]);return(0,u.jsx)(v.Z,B(B({shouldUpdatePosition:!0,isFullScreen:!0,title:G(r),style:{width:600},footerAlign:"center"},o),{},{onOk:l,children:(0,u.jsx)(R,{ref:c,actionType:r,dataSource:n})}))},ee=r(5041),te=r.n(ee);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){return ue(e)||se(e,t)||ce(e,t)||oe()}function oe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ce(e,t){if(e){if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n=[],i=!0,a=!1,o,c;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,c=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw c}}return n}}function ue(e){if(Array.isArray(e))return e}var pe=function e(t,r){var n=t.current,i=t.pageSize;if(!r.status||"normal"===r.status){var a="page=".concat(n,"&size=").concat(i);return Object.entries(r).forEach((function(e){var t=ae(e,2),r=t[0],n=t[1];n&&(a+="&".concat(r,"=").concat(n))})),(0,C.Z)("https://randomuser.me/api?results=".concat(i,"&").concat(a)).then((function(e){return console.error("~~~~resaaa",e),{total:55,list:e.results.slice(0,10)}}))}return"empty"===r.status?Promise.resolve([]):"exception"===r.status?new Promise((function(e,t){setTimeout((function(){t(new Error("data exception"))}),1e3)})):Promise.resolve([])},fe={name:140,email:500,phone:500,gender:140,operation:150},de=function e(){var t,r=ae((0,S.Z)({columnWidth:fe,optCol:null,actionType:"preview",actionVisible:!1}),2),i=r[0],a=r[1],o=i.actionVisible,c=i.columnWidth,l=i.optCol,s=O.Z.useField([]),p=(0,k.Z)(pe,{field:s}),f=p.paginationProps,d=p.tableProps,b=p.search,m=p.error,y=p.refresh,j=b.reset,g=function e(t,r){var n=ne({},c);n[t]+=r,a({columnWidth:n})},C=(0,n.useCallback)((function(e){var t=e.actionType,r=e.dataSource;a({actionType:t,optCol:r,actionVisible:!0})}),[a]),T=(0,n.useCallback)((function(){a({actionVisible:!1})}),[a]),E=(0,n.useCallback)((function(){var e=i.actionType;"preview"!==e?(h.Z.success("add"===e?"\u6dfb\u52a0\u6210\u529f!":"\u7f16\u8f91\u6210\u529f!"),j(),T()):T()}),[T,j,i]),A=(0,n.useCallback)((function(e){e&&v.Z.confirm({title:"\u5220\u9664\u63d0\u9192",content:"\u786e\u5b9a\u5220\u9664 ".concat(e.name.last," \u5417"),onOk:function t(){h.Z.success("".concat(e.name.last," \u5220\u9664\u6210\u529f!")),j()}})}),[j]),N=function e(){var t=arguments.length<=2?void 0:arguments[2];return(0,u.jsxs)("div",{children:[(0,u.jsx)(x.Z,{text:!0,type:"primary",onClick:function e(){return C({actionType:"edit",dataSource:t})},children:"\u7f16\u8f91"}),"\xa0\xa0",(0,u.jsx)(x.Z,{text:!0,type:"primary",onClick:function e(){return A(t)},children:"\u5220\u9664"}),"\xa0\xa0",(0,u.jsx)(x.Z,{text:!0,type:"primary",onClick:function e(){return C({actionType:"preview",dataSource:t})},children:"\u67e5\u770b"})]})};return(0,u.jsxs)("div",{className:te().dialogTable,children:[(0,u.jsx)(w.Z,{free:!0,children:(0,u.jsxs)(w.Z.Content,{children:[(0,u.jsxs)(P.Z,ne(ne({},d),{},{onResizeChange:g,emptyContent:m?(0,u.jsx)(I,{onRefresh:y}):(0,u.jsx)(D,{}),primaryKey:"email",children:[(0,u.jsx)(P.Z.Column,{title:"name",dataIndex:"name.last",resizable:!0,width:c.name}),(0,u.jsx)(P.Z.Column,{title:"email",dataIndex:"email",resizable:!0,width:c.email}),(0,u.jsx)(P.Z.Column,{title:"phone",dataIndex:"phone",resizable:!0,width:c.phone}),(0,u.jsx)(P.Z.Column,{title:"gender",dataIndex:"gender",resizable:!0,width:c.gender}),(0,u.jsx)(P.Z.Column,{title:"\u64cd\u4f5c",resizable:!0,width:c.operation,cell:N})]})),(0,u.jsx)(Z.Z,ne({style:{marginTop:16,textAlign:"right"},totalRender:function e(t){return(0,u.jsxs)(u.Fragment,{children:["\u5171"," ",(0,u.jsx)(x.Z,{text:!0,type:"primary",children:t})," ","\u4e2a\u8bb0\u5f55"]})}},f))]})}),(0,u.jsx)(Y,{visible:o,actionType:i.actionType,dataSource:l,onOk:E,onClose:T,onCancel:T})]})},be=de,me=i.Z.Cell,ye,je,ge,Oe=function e(){return(0,u.jsxs)(i.Z,{gap:20,children:[(0,u.jsx)(me,{colSpan:12,children:(0,u.jsx)(g,{title:"\u5f39\u7a97\u8868\u683c",breadcrumbs:[{name:"\u5217\u8868\u9875\u9762"},{name:"\u5f39\u7a97\u8868\u683c"}],description:"\u5f39\u7a97\u8868\u683c\u7684\u63cf\u8ff0"})}),(0,u.jsx)(me,{colSpan:12,children:(0,u.jsx)(be,{})})]})}},61402:function(e){e.exports={pageHeader:"PageHeader--pageHeader--IvPvuqT",title:"PageHeader--title--3yDuSsx",description:"PageHeader--description--2J_BNVV"}},5041:function(e){e.exports={dialogTable:"DialogTable--dialogTable--1wL3IpD"}}}]);